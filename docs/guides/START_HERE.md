# –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å - SecondLayer

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SecondLayer/                          # –ú–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
‚îú‚îÄ‚îÄ mcp_backend/                     # –û—Å–Ω–æ–≤–Ω–æ–π MCP —Å–µ—Ä–≤–µ—Ä (36 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ src/api/                    # MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ src/services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/adapters/                # –ê–¥–∞–ø—Ç–µ—Ä—ã –∫ –≤–Ω–µ—à–Ω–∏–º API
‚îÇ   ‚îî‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ mcp_rada/                        # MCP —Å–µ—Ä–≤–µ—Ä –¥–∞–Ω–Ω—ã—Ö –†–∞–¥—ã (4 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)
‚îú‚îÄ‚îÄ mcp_openreyestr/                  # MCP —Å–µ—Ä–≤–µ—Ä —Ä–µ–µ—Å—Ç—Ä–æ–≤ (5 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ lexwebapp/                       # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (React 19 + Vite)
‚îÇ   ‚îú‚îÄ‚îÄ src/                        # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ src/pages/                  # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ src/stores/                 # Zustand state management
‚îú‚îÄ‚îÄ packages/shared/                   # –û–±—â–∏–µ TypeScript —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ deployment/                       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/                         # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ tests/                           # E2E —Ç–µ—Å—Ç—ã (Playwright)
‚îî‚îÄ‚îÄ docs/                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö
npm run install:all

# –ó–∞–ø—É—Å–∫ backend MCP —Å–µ—Ä–≤–µ—Ä–∞
npm run backend

# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run frontend
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)

```bash
cd deployment
./manage-gateway.sh start local
```

–ó–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã: PostgreSQL, Redis, Qdrant, mcp_backend, lexwebapp

### 3. –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ MCP —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd mcp_backend
npm install
npm run dev:http    # HTTP API (–ø–æ—Ä—Ç 3000)
# –∏–ª–∏
npm run dev          # MCP stdio —Ä–µ–∂–∏–º
```

### 4. –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```bash
cd lexwebapp
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

- Backend health: http://localhost:3000/health
- Frontend: http://localhost:5173
- API –∫–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `frontend/.env`

## –ö–ª—é—á–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```
VITE_SECONDARY_LAYER_KEY=test-key-123
```

–ö–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `frontend/.env` –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å backend.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** - –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- **[MCP Client Integration Guide](../MCP_CLIENT_INTEGRATION_GUIDE.md)** ‚≠ê - –ü–æ–ª–Ω—ã–π –≥–∏–¥ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é 10+ LLM –∫–ª–∏–µ–Ω—Ç–æ–≤ (Claude Desktop, LibreChat, Jan AI –∏ –¥—Ä.)
- **mcp_backend/README.md** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞
- **frontend/README.md** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–¥–º–∏–Ω–∫–∏
- **MIGRATION_SUMMARY.md** - –¥–µ—Ç–∞–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- **KEYS.md** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª—é—á–∞—Ö

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

‚úÖ **MCP —Å–µ—Ä–≤–µ—Ä:** –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –≤ `mcp_backend/` (36 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)  
‚úÖ **Rada —Å–µ—Ä–≤–∏—Å:** –≤—ã–¥–µ–ª–µ–Ω –≤ `mcp_rada/` (4 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)  
‚úÖ **Reyestr —Å–µ—Ä–≤–∏—Å:** –≤—ã–¥–µ–ª–µ–Ω –≤ `mcp_openreyestr/` (5 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)  
‚úÖ **Frontend:** –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ `lexwebapp/` (React 19 + Vite)  
‚úÖ **Shared –ø–∞–∫–µ—Ç:** –æ–±—â–∏–µ —Ç–∏–ø—ã –≤ `packages/shared/`  
‚úÖ **Unified Gateway:** –≤—Å–µ 45 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ (–ø–æ—Ä—Ç 3004)  
‚úÖ **Docker deployment:** –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤  

## üê≥ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
cd deployment
./manage-gateway.sh start local

# –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—à–Ω
./manage-gateway.sh deploy stage
```

–ó–∞–ø—É—Å—Ç–∏—Ç: PostgreSQL, Redis, Qdrant, mcp_backend, mcp_rada, mcp_openreyestr, lexwebapp, nginx

## üÜò –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

1. Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env –≤ `mcp_backend/`
2. Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 401? –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω
3. –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î? –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose up -d` –≤ mcp_backend

---

**–ì–æ—Ç–æ–≤–æ! –ú–æ–∂–µ—Ç–µ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–∞–±–æ—Ç—É.**
