# Особливості комунікації з пошуковими розділами 

Документацію на базову комунікацію ви можете знайти по [цьому посиланню](https://docs.google.com/document/d/1qNiEL-58CHzFArAKZawCFlyQSasaPhW_KjAV56fQzqI/edit?tab=t.0#heading=h.x5kkv7dox9cw).  
Для комунікації потрібно обов’язково використовувати персональний API-ключ, який надається менеджером після підписання угоди.   
Цей API-ключ потрібно використовувати у HTTP-заголовку **X-App-Token**. 

## Судові рішення

Для пошуку по сторонам справи потрібно побудувати запит до застосунку [https://court.searcher.api.zakononline.com.ua/v1/search](https://court.searcher.api.zakononline.com.ua/v1/search) з наступними параметрами у Query String:

| Назва параметру | Значення | Опис |
| :---- | :---- | :---- |
| mode | sph04 | Обов’язкова текстова константа |
| search | “девелоп фінанс” | Пошукова фраза (в тому числі \- назва компанії), яка відповідає правилам формування пошукових фраз [на сайті](https://zakononline.com.ua/) (див. на сайті в блоці пошукової фрази посилання “Правила користування інтелектуальним пошуком”) |
| target | text | Назва поля в індексі, в якому потрібно шукати пошукову фразу. Можливі варіанти:  title \- поле з номером справи та назвою text \- поле з повним текстом рішення |
| where\[justice\_kind\]\[op\] | \= | Параметр фільтра по тупу судочинства (в даному випадку “=” \- це пряме порівняння зі значенням у стовпці таблиці з даними) |
| where\[justice\_kind\]\[value\] | 2 | Значення коду для фільтру по типу судочинства (в даному випадку воно належить “Кримінальне”) |
| order\[receipt\_date\] | desc | Параметр сортування за датою отримання документу (receipt\_date) у зворотному напрямку (від найновіших до найстарших) |
| page | 1 | Номер сторінки з результатами |
| limit | 10 | Кількість результатів на сторінку |

ПІсля конвертації у Query String фінальний пошуковий рядок буде виглядати наступним чином:

| curl \--location \--globoff 'https://court.searcher.api.zakononline.com.ua/v1/search?page=1\&limit=10\&order\[receipt\_date\]=desc\&mode=sph04\&search=%22%D0%B4%D0%B5%D0%B2%D0%B5%D0%BB%D0%BE%D0%BF%20%D1%84%D1%96%D0%BD%D0%B0%D0%BD%D1%81%22\&target=text\&where\[justice\_kind\]\[op\]==\&where\[justice\_kind\]\[value\]=2' \\\--header 'X-App-Token: {APIKey}' \\\--header 'Accept: application/json' |
| :---- |

## Судові засідання

Для пошуку по сторонам справи у судових засіданних потрібно побудувати запит до застосунку [https://court.searcher.api.zakononline.com.ua/v1/court\_sessions/search](https://court.searcher.api.zakononline.com.ua/v1/court_sessions/search) з наступними параметрами у Query String:

| Назва параметру | Значення | Опис |
| :---- | :---- | :---- |
| mode | sph04 | Обов’язкова текстова константа |
| search | “девелоп фінанс” | Пошукова фраза (в тому числі \- назва компанії зі сторони справи), яка відповідає правилам формування пошукових фраз [на сайті](https://zakononline.com.ua/) (див. на сайті в блоці пошукової фрази посилання “Правила користування інтелектуальним пошуком”) |
| target | case\_involved | Назва поля в індексі, в якому потрібно шукати пошукову фразу. Можливі варіанти:  cause\_num \- поле з номером справи case\_involved \- поле зі сторонами справи і іншим текстом з засідання |
| where\[justice\_kind\]\[op\] | \= | Параметр фільтра по тупу судочинства (в даному випадку “=” \- це пряме порівняння зі значенням у стовпці таблиці з даними) |
| where\[justice\_kind\]\[value\] | 2 | Значення коду для фільтру по типу судочинства (в даному випадку воно належить “Кримінальне”) |
| order\[date\_session\] | desc | Параметр сортування за датою засідання (date\_session) у зворотному напрямку (від найновіших до найстарших) |
| page | 1 | Номер сторінки з результатами |
| limit | 10 | Кількість результатів на сторінку |

ПІсля конвертації у Query String фінальний пошуковий рядок буде виглядати наступним чином:

| curl \--location \--globoff 'https://court.searcher.api.zakononline.com.ua/v1/court\_sessions/search?page=1\&limit=10\&order\[date\_session\]=desc\&mode=sph04\&search=%22%D0%B4%D0%B5%D0%B2%D0%B5%D0%BB%D0%BE%D0%BF%20%D1%84%D1%96%D0%BD%D0%B0%D0%BD%D1%81%22\&target=case\_involved\&where\[justice\_kind\]\[op\]==\&where\[justice\_kind\]\[value\]=2' \\\--header 'X-App-Token: {APIKey}' \\\--header 'Accept: application/json' |
| :---- |

